---
layout: post                              # 레이아웃 : post(게시물)
title:  코딩테스트 마법의 엘리베이터 풀이   # 게시물의 제목
date:   2023-01-06 16:46:06 +0900         # 게시물 작성 일자
categories: coding_test                         # 게시물이 속하는 카테고리
author:                                   # 작성자
tags: 프로그래머스 파이썬 레벨2 마법의엘리베이터
meta: "Springfield"                       # 이건 뭐지?

---
<!--postNo: 20230106_001-->

> 코딩테스트 연습에 공개된 문제는 (주)그렙이 저작권을 가지고 있습니다.  
> (지문 하단에 별도 저작권 표시 문제 제외)
> 코딩테스트 연습 문제의 지문, 테스트케이스, 풀이 등과 같은 정보는 비상업적, 비영리적 용도로 게시할 수 있습니다.  

## 코딩테스트 정보
* 프로그래머스
* python
* level 2
* 획득 점수 : 21

## 문제
<blockquote>
<br>
마법의 세계에 사는 민수는 아주 높은 탑에 살고 있습니다.  
탑이 너무 높아서 걸어 다니기 힘든 민수는 마법의 엘리베이터를 만들었습니다.  
마법의 엘리베이터의 버튼은 특별합니다.  

마법의 엘리베이터에는 -1, +1, -10, +10, -100, +100 등과 같이 절댓값이 10c (c ≥ 0 인 정수) 형태인 정수들이 적힌 버튼이 있습니다.  
마법의 엘리베이터의 버튼을 누르면 현재 층 수에 버튼에 적혀 있는 값을 더한 층으로 이동하게 됩니다.  
단, 엘리베이터가 위치해 있는 층과 버튼의 값을 더한 결과가 0보다 작으면 엘리베이터는 움직이지 않습니다.  
민수의 세계에서는 0층이 가장 아래층이며 엘리베이터는 현재 민수가 있는 층에 있습니다.  

마법의 엘리베이터를 움직이기 위해서 버튼 한 번당 마법의 돌 한 개를 사용하게 됩니다.  
예를 들어, 16층에 있는 민수가 0층으로 가려면 -1이 적힌 버튼을 6번, -10이 적힌 버튼을 1번 눌러 마법의 돌 7개를 소모하여 0층으로 갈 수 있습니다.  
하지만, +1이 적힌 버튼을 4번, -10이 적힌 버튼 2번을 누르면 마법의 돌 6개를 소모하여 0층으로 갈 수 있습니다.  

마법의 돌을 아끼기 위해 민수는 항상 최소한의 버튼을 눌러서 이동하려고 합니다.  
민수가 어떤 층에서 엘리베이터를 타고 0층으로 내려가는데 필요한 마법의 돌의 최소 개수를 알고 싶습니다.  
민수와 마법의 엘리베이터가 있는 층을 나타내는 정수 storey 가 주어졌을 때,  
0층으로 가기 위해 필요한 마법의 돌의 최소값을 return 하도록 solution 함수를 완성하세요.
<br>
</blockquote>

## 풀이 코드
```python
def solution(storey):
    answer = 0
    digit = len(str(storey))     # digit = storey 의 자릿수

    for i in range(digit + 1):   # 반올림을 고려해 시행횟수 1회 늘림
        num = storey % 10        # num = 1의 자리수의 숫자
        if num > 5:
            answer += (10 - num)
            storey = round(storey, -1) // 10
            # 처리 완료한 1의 자리 숫자를 지우기
        else:
            answer += num
            storey = round(storey, -1) // 10
            # 처리 완료한 1의 자리 숫자를 지우기

    return answer
```

## 풀이 방식
■■■■ 문제 요약 ■■■■  
* 버튼 : -1, +1, -10, +10, -100, +100 과 같이 절대값이 10c (c >= 0 인 정수)  
* 층수 : 0층이 가장 아래 층. 최고 100,000,000 층
* 엘리베이터 로직 1 : 현재 층 수 + 누른 버튼들에 적혀 있는 값을 더한 층으로 이동  
* 엘리베이터 로직 2 : 엘리베이터가 위치한 층과 버튼의 값을 더한 결과가 0보다 작으면 엘리베이터는 움직이지 않음  
* 현재 엘리베이터 위치 :  : 엘리베이터는 민수가 있는 storey층에 있음  
> 예시) 0층에서 시작해 16층으로 가는 방법  
> (1) : +1 * 6번, +10 * 1번 --- 총 7번  
> (2) : -1 * 4번, +10 * 2번 --- 총 6번  
> 2번 방법이 더 효율적

■■■■ 문제 ■■■■  
현재 층 storey에서 0층으로 가기 위해 필요한 최소 버튼 누르기 횟수를 구하는 solution 함수를 완성하시오  

■■■■ 접근 방식 ■■■■  
(1) 0층으로 간다는 불필요한 트릭이다. 0층에서 storey 층으로 가는 것으로 문제를 바꾸면 편하다.  
(2) 즉, 10의 n승인 수들로 storey를 만드는 방법을 구하면 되는 것이다.  
(3) 포인트는 +와 -를 조합해 최소의 횟수를 구하는 것이다. 이 기준을 정해야 한다. 

■■■■ 하드 풀이 ■■■■
16층 : 10 * 2 , -1 * 4  
20층 : 10 * 2  
24층 : 10 * 2 , 1 * 4  
15층 : 10 * 1 , 1 * 5  
155층 : 100 * 1 , 10 * 5, 1 * 5  
156층 : 100 * 1, 10 * 2, -1 * 4  
166층 : -1 * 4, -10 * 4 + 1, 100 * 2  
98층 : -1 * 2, 100 * 1  
88층 : -1 * 2, -10 * 1, 100 * 1  

==> 5 단위로 나누어 생각해야 한다.  
==> 1의 단위가 5이하면 10의 단위는 그대로, 1의 단위가 5 초과이면 10의 단위는 +1  
==> 10의 단위가 5 이하이면 100의 단위는 그대로, 10의 단위가 5 초과이면 100의 단위는 +1  

==> 계산은1의 단위부터 진행해야 한다.  

■■■■ 핵심 계산식 서술 ■■■■  
크게 세 단계로 진행한다.  
(1) x 단위의 수 구하기  
(2) x 단위의 수를 충족시키는 누르는 횟수 구하기  
(3) x 단위를 제외한 수 구하기 (//10) - 반올림 혹은 반올림 하지 아니함   
  
(1) x 단위의 수 구하기  
k = storey % 10c  
...

(2) x 단위의 누르는 횟수 구하기  
count = 0  
if k > 5 => count += 10 - k  
if k <=5 => count += k  
...

(3) x단위를 제외한 수 구하기  
storey = round(storey , -1) // 10  

![](/assets/images/20230106_001_001.png)